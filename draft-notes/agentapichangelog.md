# Serto Agent API Notes

# [1.0.0](https://github.com/SertoID/serto-agent/compare/...v1.0.0) (2021-11-03)


### Bug Fixes

* Account for Bearer string in admin api auth header ([2db0fc4](https://github.com/SertoID/serto-agent/commit/2db0fc423c1f35743ed57ff859c8183362e631b2))
* Account for Bearer string in auth header ([63394fc](https://github.com/SertoID/serto-agent/commit/63394fc045eef8f43f97afcc2b9e2b4a43993fdc))
* Add .env to persist_to_workspace ([a30caf1](https://github.com/SertoID/serto-agent/commit/a30caf1fd616e870d7be9928878815311f3c416e))
* Add 422 status code ([200116d](https://github.com/SertoID/serto-agent/commit/200116d7314061c199aab33afbf3d0507ac1d0b2))
* Add documentation routes in gateway ([e24be59](https://github.com/SertoID/serto-agent/commit/e24be590592dc5b4f287b13cc44089a4cfd6b933))
* add host in admin server ([3c63c6b](https://github.com/SertoID/serto-agent/commit/3c63c6b0c6a4431cb4c9c6f0afe9f3771cdf8dab))
* Add postgres docker to circleci ([c369ea5](https://github.com/SertoID/serto-agent/commit/c369ea52902007033c0c8562b7078be33a09d4f3))
* Add uuid to package.json ([d6b7c4f](https://github.com/SertoID/serto-agent/commit/d6b7c4fbda966cfbd7287a1030059042cfeb5300))
* Adding IDE files to .gitignore ([b9fed04](https://github.com/SertoID/serto-agent/commit/b9fed04c895dab25fa55931759b1200c39093769))
* Adding src folder to containers to fix swagger docs ([3dfa046](https://github.com/SertoID/serto-agent/commit/3dfa0462469bb632b80e53bb9d95676bdd0a4237))
* Adds startService script to start a single service ([9be8529](https://github.com/SertoID/serto-agent/commit/9be85290785392cbfff5fe1427b593001abcaaa2))
* API docs for feeds service ([2b022bd](https://github.com/SertoID/serto-agent/commit/2b022bd068165dbbbf51ed12a9be93ee7156ba0c))
* Auth findWithPassword ([#155](https://github.com/SertoID/serto-agent/issues/155)) ([2b8ea98](https://github.com/SertoID/serto-agent/commit/2b8ea98b38763d0f89d2cb748e4bc6f3dd104058))
* Await for tenant find ([505d90a](https://github.com/SertoID/serto-agent/commit/505d90a4de3a6fb5ca9ed113031639600abf9c9b))
* AWS KMS doesn't support Ed25519 ([#163](https://github.com/SertoID/serto-agent/issues/163)) ([9909414](https://github.com/SertoID/serto-agent/commit/9909414334562e85f7e8852619824ca7eff1bb44))
* Besu gas price config ([55a0b14](https://github.com/SertoID/serto-agent/commit/55a0b148c86897e4d70791016526ce9605511f20))
* Build fixes ([ecbcd91](https://github.com/SertoID/serto-agent/commit/ecbcd91de66774858f65ff60e41913bcc96b1fc3))
* Cleanup ([1944051](https://github.com/SertoID/serto-agent/commit/194405108dffcf34430ba87f5e60895d3d21fa3b))
* **config:** Move environment variables ([094829c](https://github.com/SertoID/serto-agent/commit/094829c62baa4e24397edebb5ef1ad81700e2e51))
* **config:** Update to README.md and docker-compose.yaml ([af22e65](https://github.com/SertoID/serto-agent/commit/af22e657f8ada9c8d45a11cc2d3093a9387612d4))
* Cors errors throw internally instead of responding correctly ([83fa349](https://github.com/SertoID/serto-agent/commit/83fa349c9e5d65f31b230f20caf9d7e7b87f83df))
* Fix awsKms instantiation ([d8fb976](https://github.com/SertoID/serto-agent/commit/d8fb97609194487761f4a4fc463def0c87d8f2e2))
* Fix internal token formatting ([6375081](https://github.com/SertoID/serto-agent/commit/6375081f7dff486d241cacdb439a6e860940239b))
* Fix test ([1ba5a79](https://github.com/SertoID/serto-agent/commit/1ba5a799e1c931cd91f272b69ba23929c7e924df))
* Fix tests ([34aa212](https://github.com/SertoID/serto-agent/commit/34aa212e8a4173714f597826fc7133ec722d300c))
* Fixes in the setup flow ([c77b0a3](https://github.com/SertoID/serto-agent/commit/c77b0a308133bd90642cb86b23a0f2bc4c986edb))
* Fixing API documentation template ([e342212](https://github.com/SertoID/serto-agent/commit/e342212dd6ec7bf059f3ce220487a337460aadc8))
* Fixing issues with user signup ([#82](https://github.com/SertoID/serto-agent/issues/82)) ([671b99a](https://github.com/SertoID/serto-agent/commit/671b99a7d4b40778c3ae531fcf5bfcf3ccb218e8))
* Fixing lint error ([2fa5568](https://github.com/SertoID/serto-agent/commit/2fa5568e42fc505d8fed1e53d83977c33ce49c1f))
* Fixing migrations in cloned database ([c04d684](https://github.com/SertoID/serto-agent/commit/c04d68486567e596f627fdaed9f4995afaed0a07))
* Fixing Swagger docs #CODATA-277 ([#98](https://github.com/SertoID/serto-agent/issues/98)) ([b630df0](https://github.com/SertoID/serto-agent/commit/b630df0c9574bf73e10284ce81f5be0387c9dbe4)), closes [#CODATA-277](https://github.com/SertoID/serto-agent/issues/CODATA-277)
* Fixing the descriptions for each entity ([736d5fa](https://github.com/SertoID/serto-agent/commit/736d5faa760f98858eec1919275c7d887f4445e6))
* Fixing the gateway path prefixes ([b54408d](https://github.com/SertoID/serto-agent/commit/b54408d8254e8d2b3e326acf0eda9001b3eb165b))
* Fixing the referecens path in the OpenAPI documentation ([c8c9840](https://github.com/SertoID/serto-agent/commit/c8c9840a59634232905a11ed150906e4a39ddb8d))
* Handle interrupt signal properly ([dd281b1](https://github.com/SertoID/serto-agent/commit/dd281b18fbf047ac63cddeae1a468e240cf357b5))
* Hotfix - remove buildint-test from circleci ([174ba0c](https://github.com/SertoID/serto-agent/commit/174ba0c4960c518e2457992516673772d7b8260b))
* Hotfix: move OPTIONS cors up ([efecf94](https://github.com/SertoID/serto-agent/commit/efecf948f991d7b4c03815600ae9f9ddd9d739a7))
* Hotfix: remove connection name to use default ([7feabb3](https://github.com/SertoID/serto-agent/commit/7feabb3cf2917fd24ad41184497088482c2417ac))
* Hotfix: set jwt on admin requests ([c8124d1](https://github.com/SertoID/serto-agent/commit/c8124d1c62a7756a8f5f9035d2a1b45adcadeb7f))
* Implementing improvement suggested in the PR comments ([d67d487](https://github.com/SertoID/serto-agent/commit/d67d4878f782dca0963123dbbdf079e6043cad75))
* Make requested changes ([1dad4a7](https://github.com/SertoID/serto-agent/commit/1dad4a7dda9fd3c993cc112f423c06202f48ad26))
* Make requested changes ([2e88d85](https://github.com/SertoID/serto-agent/commit/2e88d85fd2de336f05add2493e31a97606046d97))
* Make requested changes ([c0942d9](https://github.com/SertoID/serto-agent/commit/c0942d9fbc4556ca256c111343db8e0eb2fe6cb3))
* Make requested changes ([90ef979](https://github.com/SertoID/serto-agent/commit/90ef979bae567d1a8a447b8389a95ad251980612))
* Make requested changes ([0c8f0ce](https://github.com/SertoID/serto-agent/commit/0c8f0ce01f097c0f6471f896e842e09598bb9670))
* Make requested changes and use keyName ([4fe3187](https://github.com/SertoID/serto-agent/commit/4fe31877669a4d6d85637d997642156da372b9e5))
* Merge conflicts ([437fe78](https://github.com/SertoID/serto-agent/commit/437fe78c6fda34f6a622d0547b3d07e9138a1930))
* Move middleware to router file in gateway ([8cc658c](https://github.com/SertoID/serto-agent/commit/8cc658cd07f4eaa2cd43ccb0b6b3ac08110f367d))
* Non human readable error message on duplicate API Key name ([#152](https://github.com/SertoID/serto-agent/issues/152)) ([7a5cbc3](https://github.com/SertoID/serto-agent/commit/7a5cbc3b7d350cd1e5bf42708f7c89a15ff06882))
* Passing in `Bearer ` incorrectly authenticates ([af62d82](https://github.com/SertoID/serto-agent/commit/af62d8210f096fa45fe09efd4a9905d4560ee687))
* Postgres connections ([eb28df2](https://github.com/SertoID/serto-agent/commit/eb28df2d007c428d8cfaaaf4209e0c98b51a5e49))
* PR feedback ([50b9208](https://github.com/SertoID/serto-agent/commit/50b9208a426020c223973234fe970e0b95170e5c))
* Protecting the endpoints ([4e4b94f](https://github.com/SertoID/serto-agent/commit/4e4b94ffdf9ed9f846d372a4c4fe9e43739c079a))
* Rebase and fix tests ([665ab42](https://github.com/SertoID/serto-agent/commit/665ab4289e8f6dab8b8f281c38348a48d3b8722b))
* Rebase and some fixes ([45a4a2b](https://github.com/SertoID/serto-agent/commit/45a4a2b92f30d1ad27e1915c7c67c76a1aefdec5))
* Rebase and some fixes ([c22850c](https://github.com/SertoID/serto-agent/commit/c22850c8d579999865bad77c5e717f33f6e51ab0))
* Rebase master ([6710730](https://github.com/SertoID/serto-agent/commit/6710730adda7998f195291c91d32849770a965f7))
* Rebase master ([e025648](https://github.com/SertoID/serto-agent/commit/e025648bf9a2ea0b51f39113a484869c953d16da))
* Refactor to use old api key table & hash admin keys ([55508af](https://github.com/SertoID/serto-agent/commit/55508af4f95e80a909ded13b401aaaeb8212b322))
* Refactor verifyJWT error handling ([181ba8e](https://github.com/SertoID/serto-agent/commit/181ba8e152e07aec71c61bbb0851acad4bcf95ca))
* Remove auth temporarily ([#148](https://github.com/SertoID/serto-agent/issues/148)) ([96f8578](https://github.com/SertoID/serto-agent/commit/96f857805d24be3a9a638fe45991e6c804fd4414))
* Remove bad jwt check ([3fed773](https://github.com/SertoID/serto-agent/commit/3fed773d7d614f08dac9f5a253c0e77a3c005465))
* Remove unnecessary env ([ddc87a4](https://github.com/SertoID/serto-agent/commit/ddc87a451dd4b5b08f5e02eec85d3f78bbfc70a7))
* Remove unnecessary log ([bc1b7c5](https://github.com/SertoID/serto-agent/commit/bc1b7c53b630f1b2be41d8f4f45891bc0df84aef))
* Remove unnecessary middleware ([979723f](https://github.com/SertoID/serto-agent/commit/979723f7b0b4edc4248e5e1b6b4be028aeca9fb4))
* Remove unnecessary param ([b6c08e0](https://github.com/SertoID/serto-agent/commit/b6c08e04b157278bff5852ef4aa72ae429a84970))
* Removed all the warnings in the Swagger Validator ([bb30faa](https://github.com/SertoID/serto-agent/commit/bb30faa0c76a0203ddd67fab7b2588970ee15120))
* Removing DAF entities from openapi spec ([#107](https://github.com/SertoID/serto-agent/issues/107)) ([4cef708](https://github.com/SertoID/serto-agent/commit/4cef708bd09fc11364aa7bc9f0b347832849bba9))
* Removing log ([814a4da](https://github.com/SertoID/serto-agent/commit/814a4da6af3ae0d1a0e77df7b17d3534f52d2123))
* Removing unused libraries ([6c0495e](https://github.com/SertoID/serto-agent/commit/6c0495ea1bb9414974c9312182918e57823a25f8))
* Rename tenant header in few more places ([#104](https://github.com/SertoID/serto-agent/issues/104)) ([21d567d](https://github.com/SertoID/serto-agent/commit/21d567de419a45b983694d68fed8a7f2453fcbf1))
* Resolve merge conflict ([fab4014](https://github.com/SertoID/serto-agent/commit/fab4014acc46d383fb0d510ae3f44f9a26c469f5))
* Simplify check for active revocation in /credentials/verify ([51a919c](https://github.com/SertoID/serto-agent/commit/51a919cca70475a2d843f35b73cfe62dba1da2c2))
* Simplify Tenant ([ce8bcbe](https://github.com/SertoID/serto-agent/commit/ce8bcbe986dc9931b4b4252b9cec3fb73a11aceb))
* Small improvement on responses declarations ([0f8d830](https://github.com/SertoID/serto-agent/commit/0f8d830b43fddd5d058af3558e76364971550fc8))
* Specify connection name in common Tenantservoce ([17d593a](https://github.com/SertoID/serto-agent/commit/17d593a009946192254fe4fbe7cbb604f0daf08e))
* Specify table name ([f8268ec](https://github.com/SertoID/serto-agent/commit/f8268ec0eda3c67cc9ec0ac2852ec5f25baf72db))
* Temporary solution for organization endpoint ([4f2a2e2](https://github.com/SertoID/serto-agent/commit/4f2a2e2419e27660d7d95d0a2da05a747c6cdb02))
* Update issuer for jwt ([#151](https://github.com/SertoID/serto-agent/issues/151)) ([adbd8d4](https://github.com/SertoID/serto-agent/commit/adbd8d4fd15b988417631d8b14fe1edaa756a892))
* Update testInstanceId in env ([03b4924](https://github.com/SertoID/serto-agent/commit/03b4924f151bdecc09dbf929173c76ddaa7f52df))
* Updates after rebase ([da853ba](https://github.com/SertoID/serto-agent/commit/da853ba6be628275bdaf1e65adb82464f9793f42))
* Use gateway key as a JWKS ([5cc9851](https://github.com/SertoID/serto-agent/commit/5cc98511762ec5c5778cb07f2e0ea8ac2f867a5c))


### Features

* Add api key name and reset migrations ([0a3bc32](https://github.com/SertoID/serto-agent/commit/0a3bc32f2a26000171a73feb1bdb072ef31974a9))
* Add Authorization header check in services ([132595b](https://github.com/SertoID/serto-agent/commit/132595b8258bb1c0a5920778b067d7a8a0fea956))
* Add create/delete api key routes ([074f73d](https://github.com/SertoID/serto-agent/commit/074f73d52c6162835c7712c9887811fbdd1f85da))
* Add DAF plugin and draft code to verify credential status ([5639d4f](https://github.com/SertoID/serto-agent/commit/5639d4f803a7de5e7eba292627aa5d18421a5fe5))
* Add endpoint to list members of a tenant ([#99](https://github.com/SertoID/serto-agent/issues/99)) ([c1a5d3f](https://github.com/SertoID/serto-agent/commit/c1a5d3fed6cccba38d4041512349c42b4ee984c3))
* Add error list and handler ([1018d39](https://github.com/SertoID/serto-agent/commit/1018d397f4382b211b887dd58e90a3f2f16250e7))
* Add get tenant route ([#103](https://github.com/SertoID/serto-agent/issues/103)) ([6d7a522](https://github.com/SertoID/serto-agent/commit/6d7a522a582aff22e8ea5541246da20a67c82d73))
* Add list api keys route ([#88](https://github.com/SertoID/serto-agent/issues/88)) ([65aacb2](https://github.com/SertoID/serto-agent/commit/65aacb2048fa9a03aaab5db5882e8b93373385aa))
* Add migration for tenant api keys table ([54417d6](https://github.com/SertoID/serto-agent/commit/54417d667b9b5a8146ab82afb3edd206d236d61b))
* Add node proxy with JWT signing ([30f7bee](https://github.com/SertoID/serto-agent/commit/30f7bee879632088cc50de982337308d577c4656))
* Add tenantApiKeys entity & update create ([7b02ff1](https://github.com/SertoID/serto-agent/commit/7b02ff136f9bacb1bc0ad487268753d76c1d3f62))
* Add TenantService & refactor startServer ([f20e792](https://github.com/SertoID/serto-agent/commit/f20e792586ba679feba3932164dbed6d401dafaf))
* Adding authentication docs for the gateway ([224d15f](https://github.com/SertoID/serto-agent/commit/224d15fc2dced273d95f96eef007178076a8623b))
* Adding builders for responses and their schemas ([5d289df](https://github.com/SertoID/serto-agent/commit/5d289df7416fcb55b0b2472ef2ef024db5679c42))
* Adding public feeds support ([#86](https://github.com/SertoID/serto-agent/issues/86)) ([c81820c](https://github.com/SertoID/serto-agent/commit/c81820c3a70d136f2decc9161a66d176be70ac11))
* Adding servers using dotenv ([2077fb6](https://github.com/SertoID/serto-agent/commit/2077fb6dff63fdec4e575a99e0fd636477e33cb8))
* Adding the model schema to OAS3 docs ([dfdcd8d](https://github.com/SertoID/serto-agent/commit/dfdcd8de0d88f7ecb861340dc63d93bba3553870))
* Adding the Swagger browser to /api-docs ([bfbe007](https://github.com/SertoID/serto-agent/commit/bfbe007cf1b599c6d3df8468d133930ae6aaa3b2))
* Adds globalSetup for jest to start all services ([da93325](https://github.com/SertoID/serto-agent/commit/da93325ba856ccd431a6bc2f9c953320519e8e69))
* Adds id-hub to trust agent repo ([8c4dfbc](https://github.com/SertoID/serto-agent/commit/8c4dfbc76c89de75e1a82fde8eb7da44b00653ca))
* Agent pool ([5ce4eb4](https://github.com/SertoID/serto-agent/commit/5ce4eb4ce135f1d92609756276be88f1934cfaa8))
* CODATA-113 paginate credential endpoint ([cb64ccb](https://github.com/SertoID/serto-agent/commit/cb64ccb0d5b9601bb882b0945184dcb93e035e8d))
* Enable a default API key via envvars ([711e0c9](https://github.com/SertoID/serto-agent/commit/711e0c92eaf58b6451141fc9ad8737e3c653629b))
* Enable tenant api keys and make things testable ([c07340a](https://github.com/SertoID/serto-agent/commit/c07340a2c377211625b5a1b8dce8a4108dcd1b5b))
* Ethr registry deploy script ([cf164cf](https://github.com/SertoID/serto-agent/commit/cf164cfab8eb006368687808a341e06317c8dbdf))
* External admin auth ([403d2fc](https://github.com/SertoID/serto-agent/commit/403d2fc7b776b5a1cae1fa0c9386595901e875d0))
* External oauth token verification ([39b3668](https://github.com/SertoID/serto-agent/commit/39b366871bcfc329d0b8bdf71bb461389475b5d5))
* Feeds alpha ([7140eb8](https://github.com/SertoID/serto-agent/commit/7140eb8e08c9701e69651dddf848859f84cd5c1e))
* Improving the API authentication docs ([07164eb](https://github.com/SertoID/serto-agent/commit/07164eb807afbce1e34bf185d7d29d54ee79e0bf))
* Initial auth implementation ([#146](https://github.com/SertoID/serto-agent/issues/146)) ([daa34a6](https://github.com/SertoID/serto-agent/commit/daa34a6d53b3d602861a0c9a5896f1d005e1912d))
* Initial docker configuration ([a51f2b2](https://github.com/SertoID/serto-agent/commit/a51f2b27da2e481b92a5705a823f2d2d16a145fe))
* Initial external auth commit ([8dddea8](https://github.com/SertoID/serto-agent/commit/8dddea87031a750215e6f5896483cb9582fb91da))
* Initial external auth commit ([15c0b47](https://github.com/SertoID/serto-agent/commit/15c0b47b60dbdb2805f83be64e3a746db7eb8d68))
* Multi DB ([8b34de8](https://github.com/SertoID/serto-agent/commit/8b34de889940110754fb3aeae5011dcb4e9e5e36))
* New endpoint for did configuration ([0efaf17](https://github.com/SertoID/serto-agent/commit/0efaf1735e8645ea489603ff0f84492d6b52c469))
* Owner creation in database ([#147](https://github.com/SertoID/serto-agent/issues/147)) ([64297ec](https://github.com/SertoID/serto-agent/commit/64297ec3361b79096b7547b96a3e8b2a2b31c8b3))
* PR feedback ([95ba1be](https://github.com/SertoID/serto-agent/commit/95ba1be6158e5de0892e9867c70f1ec31bc6c924))
* Refactor verifyJWT and add activate route ([6f6b2e3](https://github.com/SertoID/serto-agent/commit/6f6b2e344937fb80546d736dd85396ce6b792875))
* Refactoring response schema builder ([7ba94ef](https://github.com/SertoID/serto-agent/commit/7ba94ef30ad26f0b60d26e73d4e8c71af37094cd))
* Remove tenant member endpoint ([#116](https://github.com/SertoID/serto-agent/issues/116)) ([e53dd4d](https://github.com/SertoID/serto-agent/commit/e53dd4d50b2e47c26d18dd77e55c36e1c5de9a3a))
* Run node services locally and not docker compose ([4e741f6](https://github.com/SertoID/serto-agent/commit/4e741f68640ef0deba2b69ea0b78f0c5dfcfaf88))
* Saving domain VC and upgrading Veramo version ([#156](https://github.com/SertoID/serto-agent/issues/156)) ([4aaf0a3](https://github.com/SertoID/serto-agent/commit/4aaf0a33be8b6b54d0c2124fccc413df9799cb8c))
* Serving the DID configuration for domains ([b6c3e4e](https://github.com/SertoID/serto-agent/commit/b6c3e4e36d69af250d60e8172b06311bf87c2d62))
* Set CORS headers ([89d4676](https://github.com/SertoID/serto-agent/commit/89d467614ac5c5aaff23c16b6f6cd6c264b10e87))
* Set up running storage server and dependencies ([456c565](https://github.com/SertoID/serto-agent/commit/456c565809c0c2deef1a31c6aac1f32834fa86d9))
* Support for adding route documentation ([6e02f05](https://github.com/SertoID/serto-agent/commit/6e02f052c076dd399d6df0f621f3e468d134eeb0))
* Support functions to document params for routes ([7189da0](https://github.com/SertoID/serto-agent/commit/7189da0b70b5959769f20ec539fe20c58bd2aed6))
* Use error consts and handler in services ([7312b24](https://github.com/SertoID/serto-agent/commit/7312b241d8695a40da140dbf918be1757a160dd1))
* Use username/password to get jwt ([#153](https://github.com/SertoID/serto-agent/issues/153)) ([6c38297](https://github.com/SertoID/serto-agent/commit/6c38297d66966eb0efa05df48af72dfe8e14406d))
* Valid open api doc generation ([da76c54](https://github.com/SertoID/serto-agent/commit/da76c54e9f5daa82c8e5ed1362c3316c0f5a0213))
* Yaml API documentation ([1f604d8](https://github.com/SertoID/serto-agent/commit/1f604d8d0991a99edd42ad002953fa1b85284687))
